package days.year2025

import days.Day
import kotlin.math.*

fun main() {
    println(Day6().solve())
}

class Day6 : Day(6, 2025) {

    var count = 0L
    val inputS = "+   *   *  +    *   +    +   *   +    *   +  +   *   *  +   *   *  *   *   *  +  +  *  +    *   +    +  *  +   +   *   +  +    *   *   *  +  +   *   *  *  *   *   +   *  +  *  *  +    +    *   +    +   *  *  *  *  +  +   *  +    +   *   *  +   *   *  *   *   *   +  *  *   *   *  *   *  *  *   *  +   +   +  *   +   *  *  *   +   *  *  *  +    +    *  *  *   *   *  *  +   *   *   +   *  +   *  +   *  *  +   *  *   *  +   *   *   +    *   +   *   *  +   +  *  +  *   *  *  +    *   *   +    *  +    *  +   +  +    +  +  *   *  *   +   *  +   *  *   *  +   +    +  *  +  +  *  *  *   *  +   +  +   +   +  *  *   +    +    +  +    +   *   *  *  *   +   *  +   *  *  *  *  *   *   +   +  *   *   +  *   +   *  *  +  *  *   *   +   +    *  +  +  +   *  *  *  *  *   +    +  *  *  +    *  *   +  +  *  *  +  +    *   *   *   *  +  +   *   *  +  +    *   +    *  *   *  *  +  *   *   *  *  +  +   *  *   *  *  +  +   +   +  +   *  +   *  +   +   *  +    *  *   +  *  *   *  +  +    +    +  *  *   *  *   +   *   +    *  +  *  *  +  *  +    +  *  +  +    +  *   *   +  +    *  +    *   *   *  *   +    +    *  +   +   +  +    *   *  *   +  *  +   *  +   *  *  *   +    +  +   +   *  +   +  *   +  *  *   +    +    *  +  *   *  +   +   *   +  *   +   *   *  *   +    *  +  *   +   +  *   +    *   +    +   +    *  +   *   +    +   *  *  *   *   +  +   +   *   *   +  +  *   *  +    *   *  *  +  +    *   *   *  *   *  *  *   +    *   *  *   *   +  +   *  +    *   +  +   +  *  +  +    +   +  *   *  *   *   *   +    *  *   *  +    *  *   +  +    *   +  +   +   *   +   *  +    +   *  *  *   *  +   *  +   *   *  *   *  +    +   *  +    +  *  +    *  +  *   +  *  *  *   *  *  *  +  +   +    +    +  *  +  +   *   +    +  *   *   +   *  +  +    *  +  *  +   +    +   +  *   *  +    +    +    +    +    *   +   +    *   *   *   +    *  *   *   *  *  +   +    *  +   +   +    *   +  +  *  *   +   *  +    +    *  *   *  *  *  *  +    *   *  *   *  *   *   *   +   *   *  +  +  *  *   *   *  *  *   +   *   +  +    +  *   +    +  +   +    *  *  *   *  +    *  +    +   +   +   +  *   *  +   +   +   +    *  *  +   *   *  *  +  +  *   +    *  *   *  *   *  +    *   *  +    +   +  *   *   +   *  *  +    *  +  *  *   +   *   +   *   *  +  +  *  *  +    *   *   *  +  *   *  +   +  *   +   +    *  *  +  *  *   +   +    *  *   *   +  +  *  +    +    +   +  +  *  +   +    *   +  *  +  *   *  +   *   +  *   *   *   +    *  +   *   +  +    *  *  +  +  *  *   *   +   *  +   +    *   *   +    +    *   *  *  *  *   *  *  +  *   *   *  +  +    +    +  +   *  +  +   *  *  +  *   +   *   +   +    +  *   *   +   +  +  *   +    +   *  +    +    +    +   *  *  +   +  *  *  +  +   +   *  *   +  *  +   +  *   +  *  *   +    +    +  *  +   +  +  +    *   *   +    +   *  *  +   *  +   +    *   *  +  +  *   *   *   +  *  +   *   +  +   +   +  *   *   +   *  +   *   *  *  +  +    *   *   +   +    *  +   *   *   *   +   +   *   *   +   *   *   +    +   +    *  *   +   +  +  +  +  *   *   +   +   *   *  *  +  *   *  +  *  *  +    *   *   *   +   *  *  +    +   +  *   +   *  +    *   *  +  +  +  *  +  *  *   +   *  *   +   *  *   *   +  +    +    *  +    *  *   *  +  +  *   +  *   *   +   *  *   *  *  *  *   *  *   *   *   +  +    +    *  *   *   *   +  *   *  *   *  *  +    *  *   *  *   *  +    *  *   *   *  *   +  +    *  *  *  *  +   *  *  +   +    *   *   *  *   +    +   *   *  *  *   *   *   *  *   *  *   *  *   +   +    *  *   +    *   *   +   +   +    *   *  *  *  +    *  *  *   +  *  *   +    +   *   +  +   *  +  *  *   *  +    +  +   *   *  *   *   +    *   +   *  +   *   *  *  +   +  *   +  *  *  *  *   *   +  *  *  *   *   +  *   +    +    +  *  *  +    *  +    *  +   *   *   *  +    + ".toList().filter{it!=' '}

    fun solve(): Any {

        var indexSum =0
        var answers= mutableListOf<Long>()

        fun addAnswer() {
            count+= if (inputS[indexSum] == '*') answers.product() else answers.sum()
        }

        repeat(inputList.first().length){i->
                val numbers = inputList.map { it[i] }.filter { it != ' ' }
                if(numbers.isEmpty()){
                    addAnswer()
                    answers= mutableListOf()
                    indexSum++
                }
                else answers.add(numbers.joinToString("").toLong())
        }
        addAnswer()

        return count
    }
}
